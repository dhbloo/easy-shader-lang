func map<T>(array : T[] ref, mapper : (a:T) -> T) {
    for (i = 0; i < array.len(); i = i + 1) {
        array[i] = mapper(array[i]);
    }
}

func lambda_test() {
    let arr = i32[8](1, 2, 3);
    map(arr, func(x) { return x * x; });
    map(arr, func<T>(x : T) -> T { return x * x; });
    map(arr, func<T>(x : T) -> T { return x * x; });
}